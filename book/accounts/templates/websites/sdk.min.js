var NetworkClient=function(){var e=this;e.makePOST=function(e,t,i=null){return new Promise(function(n,r){var o=new XMLHttpRequest;o.open("POST",e,true);o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");if(i!=null){o.setRequestHeader("Authorization","SDK-TOKEN "+i)}o.onload=function(){if(o.status>=200&&o.status<300&&o.readyState>=3){var e=JSON.parse(o.responseText);n(e)}else{r(o.responseText)}};o.onerror=function(){r(o.statusText)};var c=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");o.send(c)})};e.makeGET=function(e){return new Promise(function(t,i){var n=new XMLHttpRequest;n.addEventListener("load",function e(){t(this.responseText)});n.open("GET",e);n.onerror=function(){i(n.statusText)};n.send()})}};var CookieClient=function(){var e=this;e.set=function(e,t,i){var n=new Date;n.setTime(n.getTime()+i*24*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"+";SameSite=Strict"};e.del=function(e){var t=new Date;t.setTime(t.getTime()-2);var i="expires="+t.toUTCString();document.cookie=e+"="+";"+i+";path=/"+";SameSite=Strict"};e.get=function(e){var t=e+"=";var i=decodeURIComponent(document.cookie);var n=i.split(";");for(var r=0;r<n.length;r++){var o=n[r];while(o.charAt(0)==" "){o=o.substring(1)}if(o.indexOf(t)==0){return o.substring(t.length,o.length)}}return""}};var PromptClient=function(){var e=this;e.add_prompt_sdk_css=function(){var e=document.head;var t=document.createElement("link");t.rel="stylesheet";t.type="text/css";t.href="https://s3.amazonaws.com/dev.chirpyweb.com/prompt_component.css";e.appendChild(t);var e=document.head;var i=document.createElement("link");i.rel="stylesheet";i.type="text/css";i.href="https://s3.amazonaws.com/dev.chirpyweb.com/prompt_materialized.css";e.appendChild(i)};e.desktop=function(e,t,i,n){switch(n){case"DO":e.insertAdjacentHTML("afterbegin",`\n                    <div id="chirpyweb-desktop-obj-0" class="chirpyweb-w-auto chirpyweb-mx-auto chirpyweb-px-md-0 chirpyweb-px-3">\n                        <div class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card chirpyweb-shadow chirpyweb-p-2" style="margin-top: 0px" >\n                            <img style="width : 50px; height: 50px; margin-right: 15px" src="{{logo32}}"\n                                alt="jambo" title="jambo" />\n                            <div class="chirpyweb-description">\n                                <h5 class="chirpyweb-mb-1">{{desktop_prompt.title}}</h5>\n                                <p class="chirpyweb-text-muted mb-1">{{desktop_prompt.message}}</p>\n                                <div class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-end chirpyweb-align-items-center">\n                                    <a class="chirpyweb-allow-btn btn-flat" style="color: blue !important; cursor: pointer!important;">{{desktop_prompt.allow_btn_text}}</a>\n                                    <a class="chirpyweb-deny-btn btn-flat" style="color: #ff4081 !important;">{{desktop_prompt.deny_btn_text}}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);return;case"CM":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-desktop-obj-1" class="chirpyweb-d-flex chirpyweb-justify-content-center chirpyweb-align-items-center chirpyweb-h-100 chirpyweb-w-100 chirpyweb-mx-auto chirpyweb-px-3">\n                        <div class="chirpyweb-w-auto chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card chirpyweb-shadow chirpyweb-p-2 chirpyweb-mx-auto">\n                            <div class="chirpyweb-description">\n                                <h4 class="chirpyweb-mb-1">{{desktop_prompt.title}}</h4>\n                                <p class="chirpyweb-text-muted chirpyweb-mb-1">{{desktop_prompt.message}}</p>\n                                <div class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-end chirpyweb-align-items-center">\n                                    <a class="chirpyweb-allow-btn btn-flat" style="color: blue !important; cursor: pointer!important;">{{desktop_prompt.allow_btn_text}}</a>\n                                    <a class="chirpyweb-deny-btn btn-flat" style="color: #ff4081 !important;">{{desktop_prompt.deny_btn_text}}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);return;case"FS":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-desktop-obj-2" style="background: #337ab7" class="chirpyweb-d-flex chirpyweb-justify-content-center chirpyweb-align-items-center chirpyweb-h-100 chirpyweb-w-100 chirpyweb-p-1 chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card shadow">\n                        <div class="chirpyweb-description chirpyweb-px-3 chirpyweb-mx-auto">\n                            <h3 class="chirpyweb-mb-1 chirpyweb-text-white">{{desktop_prompt.title}}</h3>\n                            <p class="chirpyweb-mb-2 chirpyweb-text-white">{{desktop_prompt.message}}</p>\n                            <div class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-center chirpyweb-align-items-center">\n\n                                    <a class="chirpyweb-allow-btn waves-effect waves-light btn-small" style="margin-right: 10px; background: #d5d5d5 !important;">{{desktop_prompt.allow_btn_text}}</a>\n\n                                    <a class="chirpyweb-deny-btn waves-effect waves-light btn-small" style="background: #fb4681 !important;">{{desktop_prompt.deny_btn_text}}</a>\n                            </div>\n                        </div>\n                    </div>`);return;case"RS":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-desktop-obj-3" class="chirpyweb-pl-lg-0 chirpyweb-pl-5 chirpyweb-w-auto chirpyweb-ml-auto chirpyweb-h-100">\n                        <div style="justify-content: center; margin-top: 0px" class="chirpyweb-h-100 chirpyweb-d-flex chirpyweb-flex-column chirpyweb-justify-content-center chirpyweb-align-items-center chirpyweb-card shadow">\n                            <img style="width: 100px; height: 100px" src="{{logo32}}"\n                                alt="jambo" title="jambo" />\n                            <div class="chirpyweb-description chirpyweb-mt-4 chirpyweb-px-3 chirpyweb-p-2">\n                                <h4 class="chirpyweb-mb-2">{{desktop_prompt.title}}</h4>\n                                <p class="chirpyweb-text-muted mb-3">{{desktop_prompt.message}}</p>\n                                <div style="justify-content: center"  class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-center chirpyweb-align-items-center">\n                                    <a class="chirpyweb-allow-btn btn-flat" style="color: blue !important; cursor: pointer!important;">{{desktop_prompt.allow_btn_text}}</a>\n                                    <a class="chirpyweb-deny-btn btn-flat" style="color: #ff4081 !important;">{{desktop_prompt.deny_btn_text}}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);return;case"SH":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-desktop-obj-4" style="background: #0d7bdb; margin-top: 0px" class="chirpyweb-sticky-header chirpyweb-w-100 chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-between chirpyweb-card chirpyweb-align-items-center shadow chirpyweb-px-2 chirpyweb-py-3">\n                        <img class="chirpyweb-mr-2" src="{{logo32}}" alt="jambo" title="jambo" />\n                        <div class="chirpyweb-description">\n                            <h3 class="chirpyweb-text-white chirpyweb-mb-2">{{desktop_prompt.title}}</h3>\n                            <p class="chirpyweb-text-white chirpyweb-mb-1">{{desktop_prompt.message}}</p>\n                        </div>\n                        <div>\n                            <a class="chirpyweb-allow-btn btn-flat" style="color: white !important; cursor: pointer!important;">{{desktop_prompt.allow_btn_text}}</a>\n                            <a class="chirpyweb-deny-btn btn-flat" style="color: white !important;">{{desktop_prompt.deny_btn_text}}</a>\n                        </div>\n                    </div>`);return;case"SUB":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-desktop-obj-5" class="chirpyweb-w-100 chirpyweb-h-100 chirpyweb-pl-3 chirpyweb-pl-md-5">\n                        <div class="chirpyweb-slide-up chirpyweb-w-100 chirpyweb-h-100 chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-end chirpyweb-align-items-end chirpyweb-pl-5">\n                            <div style="background: #515047" class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card shadow chirpyweb-p-2">\n                                <img style="width: 50px;height: 50px;margin-right: 15px" src="{{logo32}}" alt="jambo" title="jambo" />\n                                <div class="chirpyweb-description">\n                                    <h5 class="chirpyweb-text-white chirpyweb-mb-2">{{desktop_prompt.title}}</h5>\n                                    <p style="font-size: 13px" class="chirpyweb-text-white chirpyweb-mb-1">{{desktop_prompt.message}}</p>\n                                    <div class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-start chirpyweb-align-items-center">\n                                        <a class="chirpyweb-allow-btn btn-flat" style="color: white !important; cursor: pointer!important;">{{desktop_prompt.allow_btn_text}}</a>\n                                        <a class="chirpyweb-deny-btn btn-flat" style="color: white !important;">{{desktop_prompt.deny_btn_text}}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`);return;case"B":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-desktop-obj-6" class="chirpyweb-allow-btn chirpyweb-w-100 chirpyweb-h-100 chirpyweb-d-flex chirpyweb-justify-content-end chirpyweb-align-items-end chirpyweb-pb-3 chirpyweb-pr-3">\n                    <img style="width: 70px; height: 70px" src="https://s3.amazonaws.com/dev.chirpyweb.com/alarm.png" alt="jambo" title="jambo" />\n                </div>`);return;case"SB":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-desktop-obj-7" class="chirpyweb-allow-btn chirpyweb-w-100 chirpyweb-h-100 chirpyweb-d-flex chirpyweb-flex-row chirpyweb-justify-content-end">\n                    <div class="chirpyweb-sticky-content" id="iz-sticky-text" style="width: 130px; height: 30px; margin-right: -45px; margin-top: 30%; color: white; font-weight: 800; padding: 5px; background: rgb(18, 115, 219); transform: rotate(-90deg)">Get Notifications</div>\n                </div>`);return;default:return}};e.mobile=function(e,t,i,n){for(let e=0;e<=6;e++){var r=document.getElementById("chirpyweb-mobile-obj-"+e);if(r)r.remove()}switch(n){case"DO":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-mobile-obj-0" style="height: 230px;width: 100%;margin-left:auto; margin-top: auto" class="chirpyweb-user-list chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card shadow">\n                        <img style="width: 20%;height:80%;margin-right:20px" src="{{logo32}}" alt="jambo" title="jambo" />\n                        <div class="chirpy-mobile-description chirpyweb-description">\n                            <h1>{{mobile_prompt.title}}</h1>\n                            <p class="chirpyweb-mobile-text chirpyweb-text-muted" style="font-size: 25px">{{mobile_prompt.message}}</p>\n                            <ul style="justify-content: flex-end" class="chirpyweb-list-inline chirpyweb-d-flex chirpyweb-flex-row chirpyweb-jr-mbtn-list chirpyweb-mb-0">\n                                <li><a class="chirpyweb-mobile-text chirpyweb-allow-btn btn-flat" style="font-size: 25px;color: blue !important; cursor: pointer!important;">{{mobile_prompt.allow_btn_text}}</a></li>\n                                <li><a class="chirpyweb-mobile-text chirpyweb-deny-btn btn-flat" style="font-size: 25px; color: #ff4081 !important;">{{mobile_prompt.deny_btn_text}}</a></li>\n                            </ul>\n                        </div>\n                    </div>`);return;case"CM":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-mobile-obj-1" style="height: 210px; width: 100%; margin-left: auto; margin-top: 50%" class="chirpyweb-user-list chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card shadow">\n\n                        <div class="chirpy-mobile-description chirpyweb-description">\n                            <h1 style="font-size:25px;font-weight: 1000">{{mobile_prompt.title}}</h1>\n                            <p style="width: 70%; font-size: 25px" class="chirpyweb-text-muted chirpyweb-mobile-p">{{mobile_prompt.message}}</p>\n                            <ul style="justify-content: center" class="list-inline chirpyweb-d-flex chirpyweb-flex-row chirpyweb-jr-mbtn-list chirpyweb-mb-0">\n                                <li><a class="chirpyweb-mobile-p chirpyweb-allow-btn btn-flat" style="font-size: 25px; color: blue !important; cursor: pointer!important;">{{mobile_prompt.allow_btn_text}}</a></li>\n                                <li><a class="chirpyweb-mobile-p chirpyweb-deny-btn btn-flat" style="font-size: 25px; color: #ff4081 !important;">{{mobile_prompt.deny_btn_text}}</a></li>\n                            </ul>\n                        </div>\n                    </div>`);return;case"FS":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-mobile-obj-2" style="background: #337ab7; height:100%; width: 100%; margin-left: auto ;align-items: center; padding: 15px, text-align: center" class="chirpyweb-user-list chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card shadow">\n                        <div class="chirpy-mobile-description chirpyweb-description">\n                            <h1 style="text-align:center, color: white; font-size: 25px; font-weight: 1000">{{mobile_prompt.title}}</h1>\n                            <p style="font-size: 25px; text-align:center, color: white">{{mobile_prompt.message}}</p>\n                            <ul style="justify-content: center" class="list-inline chirpyweb-d-flex chirpyweb-flex-row chirpyweb-jr-mbtn-list chirpyweb-mb-0">\n\n                                <li> <a class="chirpyweb-allow-btn waves-effect waves-light btn-small" style="font-size: 25px; margin-right: 10px; background: #d5d5d5 !important;">{{mobile_prompt.allow_btn_text}}</a></li>\n                                <li><a class="chirpyweb-deny-btn waves-effect waves-light btn-small" style="font-size: 25px; background: #fb4681 !important;">{{mobile_prompt.deny_btn_text}}</a></li>\n                            </ul>\n                        </div>\n                    </div>`);return;case"SH":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-mobile-obj-3" style="background: #337ab7; height: 210px, width: 100%" class="chirpyweb-user-list chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card shadow">\n                        <img style="width: 20%; height: 80%; margin-right: 20px" src="{{logo32}}" alt="jambo" title="jambo" />\n                        <div class="chirpy-mobile-description chirpyweb-description">\n                            <h1 style="color: white">{{mobile_prompt.title}}</h1>\n                            <p style=" font-size: 25px; font-size: 18px;color: white">{{mobile_prompt.message}}</p>\n                            <ul style="justify-content: flex-end" class="list-inline chirpyweb-d-flex chirpyweb-flex-row chirpyweb-jr-mbtn-list chirpyweb-mb-0">\n                                <li><a class="chirpyweb-allow-btn btn-flat" style="font-size: 25px; color: white !important; cursor: pointer!important;">{{mobile_prompt.allow_btn_text}}</a> </li>\n                                <li><a class="chirpyweb-deny-btn btn-flat" style="font-size: 25px; color: white !important;">{{mobile_prompt.deny_btn_text}}</a></li>\n                            </ul>\n                        </div>\n                    </div>`);return;case"SUB":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-mobile-obj-4" style="background:#515047; height: 230px; width: 100%; margin-left: auto; margin-top: auto" class="chirpyweb-user-list chirpyweb-d-flex chirpyweb-flex-row chirpyweb-card shadow">\n                        <img style="width: 20%; height: 80%; margin-right: 20px" src="{{logo32}}" alt="jambo" title="jambo" />\n                        <div class="chirpy-mobile-description chirpyweb-description">\n                            <h1 style="color: white">{{mobile_prompt.title}}</h1>\n                            <p style="font-size: 25px;color: white">{{mobile_prompt.message}}</p>\n                            <ul style="justify-content: flex-end" class="list-inline chirpyweb-d-flex chirpyweb-flex-row chirpyweb-jr-mbtn-list chirpyweb-mb-0">\n                                 <li>><a class="chirpyweb-allow-btn btn-flat" style="font-size: 25px; color: white !important; cursor: pointer!important;">{{mobile_prompt.allow_btn_text}}</a></li>\n                                <li> <a class="chirpyweb-deny-btn btn-flat" style="font-size: 25px; color: white !important;">{{mobile_prompt.deny_btn_text}}</a> </li>\n                            </ul>\n                        </div>\n                    </div>`);return;case"B":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-mobile-obj-5" class="chirpyweb-allow-btn chirpyweb-mobile-bell w-100 h-100 chirpyweb-d-flex justify-content-end align-items-end pb-3 pr-3">\n                        <img style="width: 150px;height:150px" src="https://s3.amazonaws.com/dev.chirpyweb.com/alarm.png" alt="jambo" title="jambo" />\n                    </div>`);return;case"SB":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-mobile-obj-6" style="width: 310px;margin-left:auto; margin-top:100%;margin-right: -115px;flex-direction: column"\n                        class="chirpyweb-allow-btn chirpyweb-user-list chirpyweb-d-flex">\n                        <div class="sticky-content" id="iz-sticky-text" style="color:white; font-size: 35px; font-weight: 800; padding: 10px; background: rgb(18, 115, 219); transform: rotate(-90deg)">Get\n                        Notifications\n                        </div>\n                    </div>`);return;default:return}};e.gdrp=function(e,t,i,n){for(let e=0;e<=1;e++){var r=document.getElementById("chirpyweb-gdpr-obj-"+e);if(r)r.remove()}switch(n){case"SH":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-gdpr-obj-0" id="sticky-header" class="chirpyweb-sticky-header chirpyweb-w-100 chirpyweb-h-100 chirpyweb-d-flex chirpyweb-flex-row chirpyweb-align-items-start">\n                    <div class="chirpyweb-d-flex chirpyweb-flex-column chirpyweb-flex-lg-row chirpyweb-justify-content-between chirpyweb-align-items-center chirpyweb-px-4" style="width: 100%; height: 50px; background-color: #383b75">\n                        <p class="chirpyweb-text-white chirpyweb-mb-0">\n                            {{gdpr_prompt.title}} {{gdpr_prompt.message}}                        </p>\n                        <div class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-align-items-center">\n                            <a class="chirpyweb-allow-btn btn-flat" style="color: white !important; cursor: pointer!important;">{{gdpr_prompt.allow_btn_text}}</a>\n                            <a class="chirpyweb-deny-btn btn-flat" style="color: white !important;">{{gdpr_prompt.deny_btn_text}}</a>\n                        </div>\n                    </div>\n                </div>`);return;case"SF":e.insertAdjacentHTML("afterbegin",`\n                <div id="chirpyweb-gdpr-obj-1" class="chirpyweb-sticky-header chirpyweb-w-100 chirpyweb-h-100 chirpyweb-d-flex chirpyweb-flex-row chirpyweb-align-items-end">\n                    <div class="chirpyweb-d-flex chirpyweb-flex-column chirpyweb-flex-lg-row chirpyweb-justify-content-between chirpyweb-align-items-center chirpyweb-px-4" style="width: 100%; height: 50px; background-color: #383b75">\n                        <p class="chirpyweb-text-white chirpyweb-mb-0">\n                            {{gdpr_prompt.title}} {{gdpr_prompt.message}}\n                        </p>\n                        <div class="chirpyweb-d-flex chirpyweb-flex-row chirpyweb-align-items-center">\n                            <a class="chirpyweb-allow-btn btn-flat" style="color: white !important; cursor: pointer!important;">{{gdpr_prompt.allow_btn_text}}</a>\n                            <a class="chirpyweb-deny-btn btn-flat" style="color: white !important;">{{gdpr_prompt.deny_btn_text}}</a>\n                        </div>\n                    </div>\n                </div>`);return;default:return}}};var ShopifyClient=function(){var e=this;e.add_shopify_sdk_css=function(){var e=document.head;var t=document.createElement("link");t.rel="stylesheet";t.type="text/css";t.href="https://s3.amazonaws.com/dev.chirpyweb.com/shopify_component.css";e.appendChild(t)};e.show_back_in_stock=function(e){e.insertAdjacentHTML("afterbegin",`\n        <div id="chirpyweb-floating-card-mobile" class=' col-sm-12 floating-label-card-wrapper flex-class-custom'>\n\t\t\t<div id="chirpyweb-label-header-backInStock-mobile" class=' floating-label-header-wrapper flex-class-custom'>\n\t\t\t\t<span style="color: white">Back In Stock</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="chirpyweb-floating-card" class=' col-sm-12 floating-label-card flex-class-custom'>\n         <div id="chirpyweb-label-header-backInStock" class=' floating-label-header flex-class-custom'>\n              <span style="color: white">Price Drop Notification</span>\n         </div>\n          <div id="chirpyweb-floating-body-backInStock" class='floating-label-body row' style="flex-direction: column">\n              <img src="images/screenshot.png" />\n\n              <h2 style="font-weight: 1000; margin-top: 20px">Product Name</h2>\n              <h4 style="margin-top: 20px">Floating Label Message</h4>\n              <button id="back-in-stock-floating-inside-button-desktop" type="button" class="success-button">Floating Label Button</button>\n          </div>\n     \t</div>\n     \t<div id="chirpyweb-floating-card-mobile-div-BackInStock" class=' col-sm-12 floating-label-card-mobile'>\n         <div id="chirpyweb-label-header-backInStock-mobile" class=' floating-label-header flex-class-custom'>\n              <span style="color: white; font-size: 35px; font-weight: 900">Floating Label Title</span>\n         </div>\n          <div id="chirpyweb-floating-body-mobile" class='flex-class-custom row' style="flex-direction: column">\n              <img src="images/screenshot.png" />\n              <h2 style="font-weight: 1000; margin-top: 20px">Product Name</h2>\n              <h4 style="margin-top: 20px; font-size: 30px; font-weight: 900">Floating Label Message</h4>\n              <button  id="back-in-stock-floating-inside-button-mobile" type="button" style="width: 50%; font-size: 30px; height: 50px; font-weight: bold" class="success-button">Floating Label Button</button>\n          </div>\n     \t</div>`);document.getElementById("chirpyweb-label-header-backInStock").onclick=function(){if(window.getComputedStyle(document.getElementById("chirpyweb-floating-body-backInStock")).display==="none"){document.getElementById("chirpyweb-floating-body-backInStock").classList.add("flex-class-custom")}else{document.getElementById("chirpyweb-floating-body-backInStock").classList.remove("flex-class-custom")}};document.getElementById("chirpyweb-label-header-backInStock-mobile").onclick=function(){if(window.getComputedStyle(document.getElementById("chirpyweb-floating-card-mobile-div-BackInStock")).display==="none"){document.getElementById("chirpyweb-floating-card-mobile-div-BackInStock").classList.add("display-block")}else{document.getElementById("chirpyweb-floating-card-mobile-div-BackInStock").classList.remove("display-block")}}};e.show_price_drop=function(e){e.insertAdjacentHTML("afterbegin",`\n        <div id="chirpyweb-floating-card-mobile" style="margin-left: 70%" class=' col-sm-12 floating-label-card-wrapper flex-class-custom'>\n\t\t\t<div id="chirpyweb-label-header-PriceDrop-mobile" class=' floating-label-header-wrapper flex-class-custom'>\n\t\t\t\t<span style="color: white">Price Drop</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div style="right: 10px" id="chirpyweb-floating-card" class=' col-sm-12 floating-label-card flex-class-custom'>\n         <div id="chirpyweb-label-header-priceDrop" class=' floating-label-header flex-class-custom'>\n              <span style="color: white">Floating Label Title</span>\n         </div>\n          <div id="chirpyweb-floating-body-priceDrop" class='floating-label-body row' style="flex-direction: column">\n              <img src="images/screenshot.png" />\n\n              <h2 style="font-weight: 1000; margin-top: 20px">Product Name</h2>\n              <h4 style="margin-top: 20px">Floating Label Message</h4>\n              <button id="price-drop-floating-inside-button-desktop" type="button" class="success-button">Floating Label Button</button>\n          </div>\n     \t</div>\n     \t<div id="chirpyweb-floating-card-mobile-div-PriceDrop" class=' col-sm-12 floating-label-card-mobile'>\n         <div id="chirpyweb-label-header-PriceDrop-mobile" class=' floating-label-header flex-class-custom'>\n              <span style="color: white; font-size: 35px; font-weight: 900">Floating Label Title</span>\n         </div>\n          <div id="chirpyweb-floating-body-mobile" class='flex-class-custom row' style="flex-direction: column">\n              <img src="images/screenshot.png" />\n              <h2 style="font-weight: 1000; margin-top: 20px">Product Name</h2>\n              <h4 style="margin-top: 20px; font-size: 30px; font-weight: 900">Floating Label Message</h4>\n              <button  id="price-drop-floating-inside-button-mobile" type="button" style="width: 50%; font-size: 30px; height: 50px; font-weight: bold" class="success-button">Floating Label Button</button>\n          </div>\n     \t</div>`);document.getElementById("chirpyweb-label-header-priceDrop").onclick=function(){if(window.getComputedStyle(document.getElementById("chirpyweb-floating-body-priceDrop")).display==="none"){document.getElementById("chirpyweb-floating-body-priceDrop").classList.add("flex-class-custom")}else{document.getElementById("chirpyweb-floating-body-priceDrop").classList.remove("flex-class-custom")}};document.getElementById("chirpyweb-label-header-PriceDrop-mobile").onclick=function(){if(window.getComputedStyle(document.getElementById("chirpyweb-floating-card-mobile-div-BackInStock")).display==="none"){console.log("here");document.getElementById("chirpyweb-floating-card-mobile-div-BackInStock").classList.add("display-block")}else{document.getElementById("chirpyweb-floating-card-mobile-div-BackInStock").classList.remove("display-block")}}}};var CoreSDK=function(e){var t=this;var i=new CookieClient;var n=new NetworkClient;var r=new PromptClient;var o=new ShopifyClient;t.server_log=function(t,i="log"){if(e.server_logging){var n=new XMLHttpRequest;n.open("GET",e.urls.server_logging+"?msg="+t+"&type="+i,true);n.send()}};t.console_log=function(t,i="log",n=""){if(e.console_logging){if(i=="log"){console.log(t)}else{console.error(t,n)}}};t.log=function(e){t.console_log(e);t.server_log(e)};t.error=function(e,i){t.console_log(e,"error",i);t.server_log(e,"error",i)};t.urlBase64ToUint8Array=function(e){var t="=".repeat((4-e.length%4)%4);var i=(e+t).replace(/\-/g,"+").replace(/_/g,"/");var n=window.atob(i);var r=new Uint8Array(n.length);for(var o=0;o<n.length;++o){r[o]=n.charCodeAt(o)}return r};t.get_cw_subscriber_id=function(){return i.get("cw_subscriber_id")};t.track_last_seen=function(){if(!e.page_traking){t.log("Tracking disabled!");return}var i=t.get_cw_subscriber_id();if(i==null||i==""){t.error("Last Seen Tracking exit! Subscriber Id not found!");return}n.makePOST(e.urls.event_tracking,{subscriber:i,category:"last-seen",value:window.location.href.slice(0,199)},e.sdk_auth_key).then(function(e){t.log("Last Seen Event Submitted ")}).catch(function(e){t.error("Last Seen Error: "+e)})};t.track_page=function(){if(!e.page_traking){t.log("Tracking disabled!");return}var i=t.get_cw_subscriber_id();if(i==null||i==""){t.error("Page Tracking exit! Subscriber Id not found!");return}n.makePOST(e.urls.event_tracking,{subscriber:i,category:"page-viewed-url",value:window.location.href.slice(0,199)},e.sdk_auth_key).then(function(e){t.log("Page Viewing Url Event Submitted ")}).catch(function(e){t.error("Event Submission Error: "+e)})};t.returning_subscriber=function(){t.log("Returning Subscriber");t.track_last_seen();t.track_page()};t.new_subscriber=function(e=null){t.log("You are Subscribed");if(e){t.send_welcome_notification(e)}t.track_page();t.track_last_seen()};t.permissionDenied=function(e){t.log("Permission Denied: "+e);i.del("cw_subscriber_id");i.set("cw_permission_denied","yes",7)};t.permissionAllowed=function(r,o){t.log("Permission Allowed");n.makePOST(e.urls.add_subscription,{subscription_info:JSON.stringify(o)},e.sdk_auth_key).then(function(e){i.set("cw_subscriber_id",e.id,365*3);i.del("cw_permission_denied");t.new_subscriber(r)}).catch(function(e){t.error(e)})};t.handle_cw_subscriber_id_cookie_missing=function(){};t.show_gdpr_prompt=function(e,t){};t.show_mobile_prompt=function(i,n){t.log("Showing Mobile Prompt !");var o=document.getElementsByTagName("body")[0];if(!e.mobile_prompt.enabled){i()}else{var c=document.createElement("div");c.id="chirpyweb-container";c.classList.add("chirpyweb-warpper");c.style="height:95vh";r.mobile(c,i,n,e.mobile_prompt.position);allow_btns=document.getElementsByClassName("chirpyweb-allow-btn");for(let e=0;e<allow_btns.length;e++){btn=allow_btns[e];btn.onclick=t.prompt_allowed}deny_btns=document.getElementsByClassName("chirpyweb-deny-btn");for(let e=0;e<deny_btns.length;e++){btn=deny_btns[e];btn.onclick=t.prompt_denied}o.appendChild(c)}};t.show_desktop_prompt=function(i,n){t.log("Showing Desktop Prompt !");if(!e.desktop_prompt.enabled){i()}else{var o=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="chirpyweb-container";c.classList.add("chirpyweb-warpper");r.desktop(c,i,n,e.desktop_prompt.position);o.appendChild(c);allow_btns=document.getElementsByClassName("chirpyweb-allow-btn");for(let e=0;e<allow_btns.length;e++){btn=allow_btns[e];btn.onclick=t.prompt_allowed}deny_btns=document.getElementsByClassName("chirpyweb-deny-btn");for(let e=0;e<deny_btns.length;e++){btn=deny_btns[e];btn.onclick=t.prompt_denied}}};t.prompt_allowed=function(){t.log("Custom Prompt Allowed");var e=document.getElementById("chirpyweb-container");e.parentNode.removeChild(e);t.initialise()};t.prompt_denied=function(){t.log("Custom Prompt Denied");var e=document.getElementById("chirpyweb-container");e.parentNode.removeChild(e);i.set("cw_prompt_denied","yes",7)};t.show_prompt=function(){already_subscribed=t.get_cw_subscriber_id();if(already_subscribed){t.log("Subscriber Id Exists!");t.initialise();return}t.log("Showing Prompt !");r.add_prompt_sdk_css();allow_func=t.prompt_allowed;deny_func=t.prompt_denied;if(t.isMobile){t.show_mobile_prompt(allow_func,deny_func)}else if(t.isTablet){t.show_desktop_prompt(allow_func,deny_func)}else if(t.isDesktop){t.show_desktop_prompt(allow_func,deny_func)}else{t.show_desktop_prompt(allow_func,deny_func)}};t.initialise=function(){if(t.service_worker_supported){if(t.push_manager_supported){t.registerServiceWorker().then(function(e){t.log("Going to ask permission");t.askPermission().then(function(i){var n=t.get_cw_subscriber_id();if(n!=null&&n!=""){t.returning_subscriber();return}t.log("Getting subscription");t.subscribeUserToPush().then(function(i){t.permissionAllowed(e,i)})}).catch(function(e){t.permissionDenied(e)})}).catch(function(e){t.error("Service Worker Error: "+e)})}else{t.log("Push Manager Not Supported")}}else{t.log("Service Worker not supported")}};t.send_welcome_notification=function(i){fetch(e.urls.base_url+"/stats/service-worker/?action=receive_push"+"&version=sdk.min.js"+"&push_id="+e.welcome_push.id+"&account_id="+e.account_id+"&type=welcome"+"&subscriber_id="+t.get_cw_subscriber_id()).then(function(e){if(e.status!=200){t.error("Welcome push receive registration error!")}});var n={actions:{action:"OK",title:"OK"},actions_links:{OK:e.welcome_push.url},id:e.welcome_push.id,subscriber_id:t.get_cw_subscriber_id(),account_id:e.account_id,type:"welcome",link:e.welcome_push.url};var r={body:e.welcome_push.message,icon:e.welcome_push.icon_url,requireInteraction:true,data:JSON.stringify(n)};if(e.welcome_push.image){r.image=e.welcome_push.image}return i.showNotification(e.welcome_push.title,r)};t.registerServiceWorker=function(){return navigator.serviceWorker.register(e.service_worker_path).then(function(e){t.log("Service worker successfully registered.");return e}).catch(function(e){t.error("Unable to register service worker.",e)})};t.askPermission=function(){return new Promise(function(e,t){const i=Notification.requestPermission(function(t){e(t)});if(i){i.then(e,t)}}).then(function(e){if(e!=="granted"){throw new Error("We weren't granted permission.")}})};t.subscribeUserToPush=function(){return navigator.serviceWorker.register(e.service_worker_path).then(function(i){const n={userVisibleOnly:true,applicationServerKey:t.urlBase64ToUint8Array(e.vapid_public_key)};return i.pushManager.subscribe(n)}).then(function(e){t.log("Received PushSubscription: ",JSON.stringify(e));return e})};t.show_floating_labels=function(){var e=document.getElementsByTagName("body")[0];o.add_shopify_sdk_css();o.show_price_drop(e);o.show_back_in_stock(e)};t.push_manager_supported="PushManager"in window;t.service_worker_supported="serviceWorker"in navigator;t.isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4));t.isTablet=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(navigator.userAgent);t.isDesktop=!t.isMobile&&!t.isTablet;t.isGdpr=false};
{% if not is_shopify %}
window.addEventListener('load', function() {
{% endif %}
    try {
      var pushMonkeyConfig = {
        account_id: {{account_id}},
        website_key: "{{website_key}}",
        account_key: "{{account_key}}",
        sdk_auth_key: "{{sdk_auth_key}}",

        welcome_push: {
            id: {{welcome_playbook.id}},
            enabled: {{welcome_playbook.enabled}},
            title: "{{welcome_playbook.notification_title}}",
            message: "{{welcome_playbook.notification_message}}",
            url: "{{welcome_playbook.notification_url}}",
            icon_url: "{{welcome_playbook.notification_icon.url}}",
            image: "{{welcome_playbook_image_url}}"
        },

        gdpr_prompt : {
            enabled: {{gdpr_prompt.enabled}},
            position: "{{gdpr_prompt.position}}",
        },

        mobile_prompt : {
            enabled: {{mobile_prompt.enabled}},
            position: "{{mobile_prompt.position}}",
        },

        desktop_prompt : {
            enabled: {{desktop_prompt.enabled}},
            position: "{{desktop_prompt.position}}",
        },

        server_logging : {{server_logging}},
        console_logging : {{console_logging}},
        logo32: "{{logo32}}",

        branding: {{branding}},
        page_tracking: {{page_tracking}},

        service_worker_path : "{{service_worker_path}}",
        vapid_public_key: "{{vapid_public_key}}",

        urls: {
            base_url: "{{API_SERVER}}",
            server_logging: "{{API_SERVER}}/logging/sdk/",
            add_subscription: "{{API_SERVER}}/subscribers/sdk/create/",
            event_tracking: "{{API_SERVER}}/tracking/event/",
        }
      };
      (function(config) {

        if ("object" !== typeof config) {
          console.log("Push Monkey: Missing configuration.");
        } else {

          window._coreSdk = new CoreSDK(config);
          window._coreSdk.show_prompt();
        }
      })(pushMonkeyConfig);

    } catch(err) {

      console.log(err);
    }
{% if not is_shopify %}
});
{% endif %}
